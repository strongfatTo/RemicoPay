<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>FPS-Stable – Cross-Border Remittance Service</title>
    <meta name="supabase-url" content="https://wgzrajebtwsjruhcefdq.supabase.co">
    <meta name="supabase-anon-key" content="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndnenJhamVidHdzanJ1aGNlZmRxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM5OTI3ODYsImV4cCI6MjA3OTU2ODc4Nn0.TJooqLjsyTL1aNO65KHce46eI4eiCSJlpS0VWyQeaG8">
    
    <!-- Custom Fonts: Inter (default), Geist (secondary), Bricolage Grotesque (headings) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Geist:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS and Lucide Icons -->
    <script src="https://cdn.tailwindcss.com?plugins=forms,typography,aspect-ratio"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <style>
        /* Base styles and custom fonts */
        body { font-family: 'Inter', sans-serif; }
        .font-geist { font-family: 'Geist', sans-serif !important; }
        .font-bricolage { font-family: 'Bricolage Grotesque', sans-serif !important; }
        
        /* Custom animations */
        @keyframes fade-slide {
            0% { opacity: 0; transform: translateY(20px) scale(.98); }
            100% { opacity: 1; transform: translateY(0) scale(1); }
        }
        .fade-slide { animation: fade-slide .7s both; }
        
        /* Custom scrollbar for better aesthetics */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #0f172a;
        }
        ::-webkit-scrollbar-thumb {
            background: #334155;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #475569;
        }
    </style>
</head>

<body class="bg-slate-950 text-gray-100 min-h-screen overflow-x-hidden">
    <!-- Background Spline 3D Scene (Glass Wave) -->
    <div class="spline-container fixed top-0 w-full h-screen -z-10 opacity-60 pointer-events-none">
        <iframe src="https://my.spline.design/glasswave-6HLEnvJfCRsq1aKT2xqlgme7" frameborder="0" width="100%" height="100%" id="aura-spline"></iframe>
    </div>

    <!-- Fixed Header / Navigation Bar -->
    <header class="fixed left-1/2 -translate-x-1/2 w-[calc(100%-2rem)] sm:w-[calc(100%-3rem)] lg:w-[calc(100%-4rem)] max-w-7xl top-0 sm:top-4 lg:top-6 z-50 flex sm:px-6 lg:px-8 ring-1 ring-white/10 shadow-black/20 bg-slate-900/80 border-white/10 border rounded-2xl border-b pt-4 pr-4 pb-4 pl-4 shadow-lg backdrop-blur-xl items-center justify-between">
        <div class="w-full max-w-7xl mx-auto flex items-center justify-between">
            <div class="flex space-x-3 items-center">
                <div class="flex flex-col">
                    <span class="text-lg font-bold tracking-tight text-white font-geist">FPS-Stable</span>
                    <span class="hidden sm:block text-xs text-gray-300 font-medium font-geist">Cross-Border Remittance (HK ➜ PH)</span>
                </div>
            </div>

            <!-- Desktop Navigation -->
            <nav aria-label="Primary" class="hidden lg:flex items-center space-x-2">
                <a href="#" class="flex items-center space-x-2 px-4 py-2 text-sm rounded-lg hover:bg-white/10 hover:ring-1 hover:ring-white/15 transition text-gray-200">
                    <i data-lucide="send" class="h-4 w-4"></i>
                    <span class="font-geist">Send Money</span>
                </a>
            </nav>

            <!-- Desktop Actions -->
            <div class="hidden sm:flex items-center space-x-3">
                <button id="remittanceLoginBtn" class="flex hover:bg-blue-600 transition shadow-blue-900/30 hover:-translate-y-0.5 text-sm text-white bg-gradient-to-r from-blue-400 to-emerald-400 rounded-lg pt-2 pr-4 pb-2 pl-4 shadow-lg space-x-2 items-center">
                    <i data-lucide="log-in" class="h-4 w-4"></i>
                    <span class="font-geist">Login / Register</span>
                </button>
            </div>

            <!-- Mobile Toggle Button -->
            <button id="mobileToggle" class="relative z-30 flex h-10 w-10 items-center justify-center rounded-lg border border-white/15 bg-white/10 text-white sm:hidden hover:bg-white/15" aria-expanded="false">
                <i data-lucide="menu" class="h-5 w-5"></i>
            </button>
        </div>
    </header>

    <!-- Mobile Navigation Menu -->
    <nav id="mobileNav" aria-label="Mobile" class="absolute inset-x-0 top-0 z-40 hidden flex-col space-y-2 bg-slate-900/95 px-4 pb-8 pt-24 backdrop-blur-xl border-b border-white/10 sm:hidden transition-all duration-300">
        <a href="#" class="flex items-center space-x-3 rounded-lg px-4 py-3 text-gray-100 hover:bg-white/10 hover:ring-1 hover:ring-white/10 transition">
            <i data-lucide="send" class="h-5 w-5"></i>
            <span class="font-geist">Send Money</span>
        </a>
        
        <div class="border-t border-white/10 pt-4">
            <button id="mobileRemittanceLoginBtn" class="flex w-full items-center justify-center space-x-2 rounded-lg bg-blue-600/80 px-4 py-3 text-white hover:bg-blue-600 transition">
                <i data-lucide="log-in" class="h-4 w-4"></i>
                <span class="font-geist">Login / Register</span>
            </button>
        </div>
    </nav>

    <main class="relative z-10 min-h-screen">
        <!-- Hero Section -->
        <section class="sm:px-6 lg:px-8 sm:pt-12 lg:pt-16 pt-8 pr-4 pl-4">
            <div class="max-w-7xl mx-auto">
                <div class="grid gap-8 lg:grid-cols-5 lg:gap-12 pt-20 pb-20 sm:pt-24 sm:pb-24 lg:pt-32 lg:pb-32 items-center">
                    <!-- Hero Content -->
                    <div class="lg:col-span-3 fade-slide" style="animation-delay:.1s">
                        <p class="inline-flex items-center gap-2 rounded-full border border-emerald-400/30 bg-emerald-400/10 px-3 py-1 text-xs text-emerald-200 font-geist">
                            <i data-lucide="zap" class="h-3.5 w-3.5"></i>
                            HK ➜ PH FPS + Stablecoin Rail
                        </p>
                        <h1 class="text-4xl sm:text-5xl lg:text-6xl xl:text-7xl tracking-tight text-white mb-8 font-bricolage font-light leading-tight">
                            Send money HK ➜ PH<br class="hidden sm:block">
                            in minutes, not days<br class="hidden sm:block">
                            <span class="font-light bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-emerald-400">transparently</span>
                        </h1>

                        <p class="text-lg sm:text-xl text-gray-300 mb-10 max-w-2xl font-geist">
                            Lightning-fast FPS collection, compliant HKD stablecoins, and instant PHP payouts. Track every step with full transparency.
                        </p>

                        <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
                            <div class="rounded-2xl border border-emerald-400/20 bg-emerald-500/10 p-4">
                                <p class="text-xs uppercase tracking-[0.3em] text-emerald-200 font-geist">Settlement</p>
                                <p class="text-2xl text-white font-bricolage font-light mt-2">12 min avg</p>
                                <p class="text-xs text-gray-300 mt-1">P95 under 30 minutes</p>
                            </div>
                            <div class="rounded-2xl border border-blue-400/20 bg-blue-500/10 p-4">
                                <p class="text-xs uppercase tracking-[0.3em] text-blue-200 font-geist">Fees</p>
                                <p class="text-2xl text-white font-bricolage font-light mt-2">&lt; 1.0%</p>
                                <p class="text-xs text-gray-300 mt-1">Guaranteed upfront</p>
                            </div>
                            <div class="rounded-2xl border border-purple-400/20 bg-purple-500/10 p-4">
                                <p class="text-xs uppercase tracking-[0.3em] text-purple-200 font-geist">Compliance</p>
                                <p class="text-2xl text-white font-bricolage font-light mt-2">HKMA ready</p>
                                <p class="text-xs text-gray-300 mt-1">KYC / AML built-in</p>
                            </div>
                        </div>
                    </div>

                    <!-- Login Card & CTA -->
                    <div class="lg:col-span-2 fade-slide" style="animation-delay:.25s">
                        <div class="space-y-6">
                            <div id="loginCard" class="bg-gradient-to-br from-slate-900/80 to-blue-900/40 border border-white/10 rounded-2xl p-6 backdrop-blur-xl shadow-2xl">
                                <div class="flex items-center justify-between mb-6">
                                    <div>
                                        <p class="text-xs text-blue-200 uppercase tracking-[0.4em] font-geist">Session Resume</p>
                                        <h3 class="text-2xl text-white font-semibold font-geist mt-1">Log in to continue</h3>
                                    </div>
                                    <span class="text-xs text-gray-400 font-geist">MVP • v0.4</span>
                                </div>
                                <form class="space-y-4" id="emailLoginForm">
                                    <div>
                                        <label for="loginEmail" class="text-xs uppercase text-gray-300 font-semibold font-geist tracking-wide">Email</label>
                                        <input id="loginEmail" type="email" placeholder="maria@example.com" class="mt-1 w-full rounded-xl border border-white/15 bg-white/5 px-4 py-3 text-sm text-white placeholder:text-gray-400 focus:border-blue-400 focus:ring-2 focus:ring-blue-400/40 transition">
                                    </div>
                                    <div>
                                        <label for="loginPassword" class="text-xs uppercase text-gray-300 font-semibold font-geist tracking-wide">Password</label>
                                        <input id="loginPassword" type="password" placeholder="••••••••" class="mt-1 w-full rounded-xl border border-white/15 bg-white/5 px-4 py-3 text-sm text-white placeholder:text-gray-400 focus:border-blue-400 focus:ring-2 focus:ring-blue-400/40 transition">
                                    </div>
                                    <button type="button" id="emailLoginButton" class="w-full inline-flex justify-center items-center gap-2 bg-gradient-to-r from-blue-400 to-emerald-400 text-white font-medium font-geist rounded-xl py-3 shadow-lg shadow-blue-900/40 hover:-translate-y-0.5 transition">
                                        <i data-lucide="log-in" class="h-4 w-4"></i>
                                        Log In with Email
                                    </button>
                                    <p id="loginError" class="hidden text-xs text-rose-200 bg-rose-500/10 border border-rose-400/20 rounded-xl px-3 py-2 font-geist">Login failed. Check your email or password.</p>
                                </form>
                                <div class="mt-4 space-y-3">
                                    <button id="googleLoginButton" class="w-full inline-flex justify-center items-center gap-3 rounded-xl border border-white/15 bg-white/5 px-4 py-3 text-sm text-gray-100 hover:bg-white/10 hover:border-white/30 transition">
                                        <img src="https://www.svgrepo.com/show/475656/google-color.svg" alt="Google icon" class="h-4 w-4">
                                        Continue with Google
                                    </button>
                                    <button type="button" data-open-registration class="w-full inline-flex justify-center items-center gap-2 rounded-xl border border-dashed border-blue-400/40 bg-blue-500/5 px-4 py-3 text-sm text-blue-100 hover:border-blue-400/60 hover:bg-blue-500/10 transition">
                                        <i data-lucide="user-plus" class="h-4 w-4"></i>
                                        Create a new account
                                    </button>
                                    <p class="text-xs text-gray-400 font-geist text-center">
                                        No multi-step forms on load — click “Create a new account” to launch a focused onboarding workspace.
                                    </p>
                                </div>
                            </div>

                            <div class="rounded-2xl border border-white/10 bg-white/5 p-6 backdrop-blur-xl shadow-xl">
                                <div class="flex items-center gap-3 mb-4">
                                    <div class="h-10 w-10 rounded-xl bg-emerald-500/15 flex items-center justify-center text-emerald-200">
                                        <i data-lucide="shield" class="h-4 w-4"></i>
                                    </div>
                                    <div>
                                        <p class="text-xs uppercase tracking-[0.4em] text-emerald-200 font-geist">Controls</p>
                                        <h4 class="text-white font-semibold font-geist">Trust & Safeguards</h4>
                                    </div>
                                </div>
                                <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 text-sm font-geist">
                                    <div class="rounded-xl border border-white/15 bg-white/5 p-3">
                                        <p class="text-gray-400 text-xs">HKMA Licensed
                                        </p>
                                        <p class="text-white font-semibold">Sandbox Ready</p>
                                    </div>
                                    <div class="rounded-xl border border-white/15 bg-white/5 p-3">
                                        <p class="text-gray-400 text-xs">Bank-level</p>
                                        <p class="text-white font-semibold">Encryption</p>
                                    </div>
                                    <div class="rounded-xl border border-white/15 bg-white/5 p-3">
                                        <p class="text-gray-400 text-xs">Support</p>
                                        <p class="text-white font-semibold">24/7 bilingual</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Registration Modal -->
        <div id="registrationModal" class="fixed inset-0 z-50 hidden items-center justify-center bg-black/70 backdrop-blur-sm px-4 py-10">
            <div data-registration-panel class="relative w-full max-w-4xl mx-auto rounded-3xl border border-white/10 bg-slate-950/95 p-8 shadow-2xl focus:outline-none" tabindex="-1" aria-modal="true" role="dialog">
                <button type="button" data-close-registration class="absolute top-4 right-4 text-gray-400 hover:text-white" aria-label="Close registration">
                    <i data-lucide="x" class="h-6 w-6"></i>
                </button>
                <div class="grid gap-8 lg:grid-cols-2">
                    <div class="space-y-6">
                        <div>
                            <p class="text-xs uppercase tracking-[0.4em] text-blue-200 font-geist">Swift onboarding</p>
                            <h3 class="mt-2 text-3xl text-white font-bricolage font-semibold">Create a remittance workspace</h3>
                            <p class="text-sm text-gray-300 font-geist mt-3">Inspired by the old dual-panel UI: toggle between sign-up and login—but only when you need it. Less clutter, same flow.</p>
                        </div>
                        <div class="bg-white/5 border border-white/10 rounded-2xl p-4 space-y-4">
                            <div class="flex items-center gap-3">
                                <span class="h-10 w-10 rounded-xl bg-blue-500/15 text-blue-100 flex items-center justify-center font-semibold">1</span>
                                <div>
                                    <p class="text-sm text-white font-semibold">Account basics</p>
                                    <p class="text-xs text-gray-400">Email + password using Supabase auth</p>
                                </div>
                            </div>
                            <div class="flex items-center gap-3">
                                <span class="h-10 w-10 rounded-xl bg-emerald-500/15 text-emerald-100 flex items-center justify-center font-semibold">2</span>
                                <div>
                                    <p class="text-sm text-white font-semibold">HKMA ready</p>
                                    <p class="text-xs text-gray-400">Redirect to dashboard for HKID/passport verification</p>
                                </div>
                            </div>
                            <div class="flex items-center gap-3">
                                <span class="h-10 w-10 rounded-xl bg-purple-500/15 text-purple-100 flex items-center justify-center font-semibold">3</span>
                                <div>
                                    <p class="text-sm text-white font-semibold">Simulate transfers</p>
                                    <p class="text-xs text-gray-400">Follow FPS → Stablecoin → PHP in minutes</p>
                                </div>
                            </div>
                        </div>
                        <div class="rounded-2xl border border-white/10 bg-white/5 p-4 text-sm text-gray-300 font-geist">
                            <p class="font-semibold text-white mb-1">Why a modal?</p>
                            <p>On mobile, dual cards felt cramped. This keeps the login hero clean while honoring the old UI’s “Sign Up” reveal.</p>
                        </div>
                    </div>

                    <div class="rounded-2xl border border-white/10 bg-white/5 p-6 space-y-6">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-xs uppercase tracking-[0.4em] text-blue-200 font-geist">Registration</p>
                                <h4 class="text-2xl text-white font-geist font-semibold mt-1">Create a new account</h4>
                            </div>
                            <span class="inline-flex items-center gap-1 rounded-full border border-white/15 px-3 py-1 text-xs text-gray-100 font-geist">
                                <i data-lucide="lock" class="h-3.5 w-3.5"></i>
                                Secure
                            </span>
                        </div>
                        <form id="emailRegistrationForm" class="space-y-4">
                            <div>
                                <label for="registerEmail" class="text-xs uppercase text-gray-300 font-semibold font-geist tracking-wide">Email</label>
                                <input id="registerEmail" type="email" placeholder="maria@example.com" class="mt-1 w-full rounded-xl border border-white/15 bg-white/5 px-4 py-3 text-sm text-white placeholder:text-gray-400 focus:border-blue-400 focus:ring-2 focus:ring-blue-400/40 transition">
                            </div>
                            <div>
                                <label for="registerUsername" class="text-xs uppercase text-gray-300 font-semibold font-geist tracking-wide">Full Name</label>
                                <input id="registerUsername" type="text" placeholder="Maria Santos" class="mt-1 w-full rounded-xl border border-white/15 bg-white/5 px-4 py-3 text-sm text-white placeholder:text-gray-400 focus:border-blue-400 focus:ring-2 focus:ring-blue-400/40 transition">
                            </div>
                            <div>
                                <label for="registerPassword" class="text-xs uppercase text-gray-300 font-semibold font-geist tracking-wide">Password</label>
                                <input id="registerPassword" type="password" placeholder="••••••••" class="mt-1 w-full rounded-xl border border-white/15 bg-white/5 px-4 py-3 text-sm text-white placeholder:text-gray-400 focus:border-blue-400 focus:ring-2 focus:ring-blue-400/40 transition">
                            </div>
                            <button type="button" id="emailRegistrationButton" class="w-full inline-flex justify-center items-center gap-2 bg-gradient-to-r from-blue-400 to-emerald-400 text-white font-medium font-geist rounded-xl py-3 shadow-lg shadow-blue-900/40 hover:-translate-y-0.5 transition">
                                <i data-lucide="user-plus" class="h-4 w-4"></i>
                                Register with Email
                            </button>
                            <p id="registrationMessage" class="hidden text-xs text-rose-200 bg-rose-500/10 border border-rose-400/20 rounded-xl px-3 py-2 font-geist">Something went wrong. Please try again.</p>
                        </form>
                        <div class="text-xs text-gray-400 font-geist">
                            * MVP scope: After creating an account you’ll land in dashboard.html for KYC and the improved send-money workflow. Backend hooks remain unchanged.
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Transaction Snapshot Section -->
        <section class="sm:px-6 lg:px-8 sm:pb-20 sm:pt-16 lg:pt-20 pt-12 pr-4 pb-12 pl-4">
            <div class="max-w-7xl mx-auto">
                <h2 class="sr-only font-geist">Remittance dashboard overview</h2>
                <div class="grid gap-8 lg:grid-cols-12 xl:gap-10 border-0 rounded-3xl pt-4 pr-4 pb-4 pl-4 space-x-0">
                    <div class="lg:col-span-12 xl:col-span-12 fade-slide" style="animation-delay:.45s">
                        <div class="text-center max-w-3xl mx-auto mb-16">
                            <h2 class="text-4xl sm:text-5xl font-light tracking-tight text-white font-bricolage mb-6">
                                The stablecoin remittance <span class="bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-emerald-400">advantage</span>
                            </h2>
                            <p class="text-xl text-gray-300 font-geist font-light">
                                FPS + regulated stablecoins deliver transfers in under 15 minutes with fees below 1%.
                            </p>
                        </div>

                        <article class="overflow-hidden hover:border-white/40 transition-all duration-300 bg-gradient-to-br from-blue-900/20 to-black border border-blue-400/20 rounded-2xl shadow-sm backdrop-blur-xl">
                            <header class="flex items-center justify-between p-8 border-b border-blue-400/20">
                                <div class="flex items-center space-x-3">
                                    <div class="h-12 w-12 rounded-xl bg-blue-500/15 flex items-center justify-center">
                                        <i data-lucide="send" class="h-5 w-5 text-blue-300"></i>
                                    </div>
                                    <div>
                                        <p class="text-sm text-blue-200 font-geist">TX-20250129-PH</p>
                                        <h3 class="text-xl font-semibold text-white font-geist">Transaction Snapshot</h3>
                                </div>
                                </div>
                                <span class="inline-flex items-center rounded-lg bg-emerald-500/15 px-3 py-1 text-xs font-medium text-emerald-200 font-geist border border-emerald-400/20">
                                    HKD 1,000 → PHP 7,056
                                </span>
                            </header>
                            <div class="p-8 space-y-6 text-sm font-geist">
                                <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
                                    <div class="rounded-xl border border-blue-400/30 bg-blue-500/10 p-4">
                                        <p class="text-gray-300 mb-1">You send</p>
                                        <p class="text-2xl text-white font-bricolage font-light">HKD 1,000</p>
                                        </div>
                                    <div class="rounded-xl border border-emerald-400/30 bg-emerald-500/10 p-4">
                                        <p class="text-gray-300 mb-1">They receive</p>
                                        <p class="text-2xl text-white font-bricolage font-light">PHP 7,056</p>
                                    </div>
                                    <div class="rounded-xl border border-purple-400/30 bg-purple-500/10 p-4">
                                        <p class="text-gray-300 mb-1">Time &amp; Fee</p>
                                        <p class="text-base text-white">15 mins · &lt;1%</p>
                                        </div>
                                    </div>
                                <div class="flex flex-wrap gap-4 text-xs text-gray-300">
                                    <!-- Placeholder icons for the flow -->
                                    <img src="https://img.icons8.com/fluency/64/qr-code.png" alt="FPS QR" class="h-12 w-12 rounded-xl border border-white/10 bg-white/5 p-2">
                                    <img src="https://img.icons8.com/fluency/64/blockchain-new-logo.png" alt="Stablecoin conversion" class="h-12 w-12 rounded-xl border border-white/10 bg-white/5 p-2">
                                    <img src="https://img.icons8.com/fluency/64/bank.png" alt="Bank payout" class="h-12 w-12 rounded-xl border border-white/10 bg-white/5 p-2">
                                        </div>
                                <div class="rounded-xl border border-amber-400/20 bg-gradient-to-br from-amber-900/20 to-black/40 p-5 text-sm text-amber-100">
                                    MVP transfers are capped at HKD 1,000; future releases will unlock flexible amounts and additional corridors.
                                </div>
                            </div>
                        </article>
                    </div>
                </div>
            </div>
        </section>

        <!-- 4-Step Flow Section (Icons updated in previous step) -->
        <section class="sm:px-6 lg:px-8 sm:pt-16 lg:pt-20 pt-12 pr-4 pb-16 pl-4">
            <div class="max-w-7xl mr-auto ml-auto">
                <div class="text-center max-w-3xl mx-auto mb-16">
                    <h2 class="text-4xl sm:text-5xl font-light tracking-tight text-white font-bricolage mb-6">
                        <span class="bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-emerald-400">Our</span> 4-step stablecoin flow
                    </h2>
                    <p class="text-xl text-gray-300 font-geist font-light">Seamless HKD-to-PHP transfer leveraging compliant stablecoins and local payment rails.</p>
                </div>

                <div class="space-y-8">
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 xl:gap-8">
                        <!-- Step 1: HKD Collection via FPS -->
                        <div class="fade-slide bg-gradient-to-br from-blue-900/20 to-indigo-900/20 border border-blue-400/20 rounded-2xl p-8 hover:border-blue-400/40 transition-all duration-300 backdrop-blur-xl" style="animation-delay:.15s">
                            <div class="h-12 w-12 rounded-xl bg-blue-500/15 flex items-center justify-center mb-6">
                                <span class="text-xl font-semibold text-blue-200 font-geist">1</span>
                            </div>
                            <h3 class="text-xl font-semibold text-white font-geist mb-3">HKD Collection via FPS</h3>
                            <p class="text-gray-300 font-geist font-light mb-4">Scan a one-time FPS QR and pay from your HK bank instantly.</p>
                            <img src="https://img.icons8.com/fluency/96/qr-code.png" alt="FPS QR" class="h-16 w-16 rounded-2xl bg-white/5 border border-white/10 p-2">
                        </div>

                        <!-- Step 2: Stablecoin Liquidity & Conversion -->
                        <div class="fade-slide lg:col-span-2 bg-gradient-to-br from-purple-900/20 to-pink-900/20 border border-purple-400/20 rounded-2xl p-8 hover:border-purple-400/40 transition-all duration-300 backdrop-blur-xl" style="animation-delay:.2s">
                            <div class="flex flex-col md:flex-row md:items-center">
                                <div class="md:w-1/2 mb-6 md:mb-0">
                                    <div class="h-12 w-12 rounded-xl bg-purple-500/15 flex items-center justify-center mb-6">
                                        <span class="text-xl font-semibold text-purple-200 font-geist">2</span>
                                    </div>
                                    <h3 class="text-xl font-semibold text-white font-geist mb-3">Stablecoin Liquidity & Conversion</h3>
                                    <p class="text-gray-300 font-geist font-light">Funds are converted: HKD $\rightarrow$ HKD Stablecoin $\rightarrow$ PHPC. This is the core FX step.</p>
                                </div>
                                <div class="md:w-1/2 md:pl-8 flex items-center gap-4">
                                    <!-- Icon 1: Stablecoin/Compliance -->
                                    <div class="h-16 w-16 rounded-2xl bg-white/5 border border-white/10 p-2 flex items-center justify-center">
                                        <i data-lucide="shield-half" class="h-8 w-8 text-purple-300"></i>
                                            </div>
                                    <!-- Icon 2: Conversion/FX -->
                                    <div class="h-16 w-16 rounded-2xl bg-white/5 border border-white/10 p-2 flex items-center justify-center">
                                        <i data-lucide="repeat" class="h-8 w-8 text-pink-300"></i>
                                        </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 xl:gap-8">
                        <!-- Step 3: PHP Payout to Recipient Bank -->
                        <div class="fade-slide lg:col-span-2 bg-gradient-to-br from-amber-900/20 to-orange-900/20 border border-amber-400/20 rounded-2xl p-8 hover:border-amber-400/40 transition-all duration-300 backdrop-blur-xl" style="animation-delay:.25s">
                            <div class="flex flex-col md:flex-row md:items-center">
                                <div class="md:w-1/2 mb-6 md:mb-0">
                                    <div class="h-12 w-12 rounded-xl bg-amber-500/15 flex items-center justify-center mb-6">
                                        <span class="text-xl font-semibold text-amber-200 font-geist">3</span>
                                    </div>
                                    <h3 class="text-xl font-semibold text-white font-geist mb-3">PHP Payout to Recipient Bank</h3>
                                    <p class="text-gray-300 font-geist font-light">The PHPC is converted to PHP and deposited instantly into the recipient's bank account.</p>
                                </div>
                                <div class="md:w-1/2 md:pl-8 flex items-center gap-4">
                                    <!-- Icon 1: Payout/Transfer -->
                                    <div class="h-16 w-16 rounded-2xl bg-white/5 border border-white/10 p-2 flex items-center justify-center">
                                        <i data-lucide="banknote" class="h-8 w-8 text-amber-300"></i>
                                            </div>
                                    <!-- Icon 2: Recipient Account -->
                                    <div class="h-16 w-16 rounded-2xl bg-white/5 border border-white/10 p-2 flex items-center justify-center">
                                        <i data-lucide="wallet" class="h-8 w-8 text-orange-300"></i>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Step 4: Real-time Tracking & Notifications -->
                        <div class="fade-slide bg-gradient-to-br from-emerald-900/20 to-green-900/20 border border-emerald-400/20 rounded-2xl p-8 hover:border-emerald-400/40 transition-all duration-300 backdrop-blur-xl" style="animation-delay:.3s">
                            <div class="h-12 w-12 rounded-xl bg-emerald-500/15 flex items-center justify-center mb-6">
                                <span class="text-xl font-semibold text-emerald-200 font-geist">4</span>
                            </div>
                            <h3 class="text-xl font-semibold text-white font-geist mb-3">Real-time Tracking & Notifications</h3>
                            <p class="text-gray-300 font-geist font-light mb-4">Live status plus alerts keep both sender and recipient in sync.</p>
                            <div class="flex items-center gap-4">
                                <!-- Icon 1: History/Tracking -->
                                <div class="h-16 w-16 rounded-2xl bg-white/5 border border-white/10 p-2 flex items-center justify-center">
                                    <i data-lucide="activity" class="h-8 w-8 text-emerald-300"></i>
                                </div>
                                <!-- Icon 2: Alert/Notifications -->
                                <div class="h-16 w-16 rounded-2xl bg-white/5 border border-white/10 p-2 flex items-center justify-center">
                                    <i data-lucide="bell" class="h-8 w-8 text-green-300"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="h-px bg-gradient-to-r from-transparent via-white/20 to-transparent my-16"></div>
            </div>
        </section>

        <!-- Core Features Section (UPDATED TITLE) -->
        <section class="sm:px-6 lg:px-8 sm:pt-16 lg:pt-20 pt-12 pr-4 pb-16 pl-4" data-billing="monthly">
            <div class="max-w-7xl mx-auto">
                <div class="text-center max-w-3xl mx-auto mb-16">
                    <h2 class="text-4xl sm:text-5xl font-light tracking-tight text-white font-bricolage mb-6">
                        Core features
                    </h2>
                    <p class="text-xl text-gray-300 font-geist font-light">Fully compliant framework that ensures transparency, security, and low cost for every transaction.</p>
                    <!-- UPDATED TARGET FEE -->
                    <div class="inline-flex items-center gap-2 rounded-xl border border-emerald-400/20 bg-emerald-400/10 px-3 py-2 mt-4">
                        <i data-lucide="trending-up" class="h-4 w-4 text-emerald-300"></i>
                        <span class="text-sm text-emerald-200 font-geist">Target Fee: Below 1% (vs. 3-7%)</span>
                    </div>
                </div>

                <div class="space-y-8">
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 xl:gap-8">
                        
                        <!-- Feature 1: Speed and Accessibility -->
                        <div class="fade-slide lg:col-span-1 bg-gradient-to-br from-emerald-900/20 to-black border border-emerald-400/20 rounded-2xl p-8 hover:border-emerald-400/40 transition-all duration-300 backdrop-blur-xl" style="animation-delay:.2s">
                            <div class="flex flex-col">
                                <div class="mb-6">
                                    <div class="h-12 w-12 rounded-xl bg-emerald-500/15 flex items-center justify-center mb-6">
                                        <i data-lucide="zap" class="h-6 w-6 text-emerald-300"></i>
                                    </div>
                                    <h3 class="text-xl font-semibold text-white font-geist mb-3">Instant Speed</h3>
                                    <p class="text-gray-300 font-geist font-light">24/7 access with deposits guaranteed in minutes, not days.</p>
                                </div>
                                <div class="flex justify-center mt-4">
                                    <div class="relative">
                                        <div class="absolute inset-0 bg-emerald-500/20 blur-2xl rounded-full"></div>
                                        <div class="relative z-10 bg-gradient-to-br from-emerald-900/40 to-black/60 p-4 rounded-xl border border-emerald-500/30">
                                            <div class="w-full h-20 flex flex-col items-center justify-center space-y-2">
                                                <div class="flex items-center gap-2 text-emerald-300">
                                                    <i data-lucide="clock-5" class="w-4 h-4"></i>
                                                    <span class="text-sm font-geist">P95 &lt; 30 min (NFR-1)</span>
                                                </div>
                                                <div class="flex items-center gap-2 text-emerald-300">
                                                    <i data-lucide="globe" class="w-4 h-4"></i>
                                                    <span class="text-sm font-geist">24/7 Availability</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>


                        <!-- Feature 2: Pricing Transparency -->
                        <div class="fade-slide lg:col-span-1 bg-gradient-to-br from-purple-900/20 to-black border border-purple-400/20 rounded-2xl p-8 hover:border-purple-400/40 transition-all duration-300 backdrop-blur-xl" style="animation-delay:.25s">
                            <div class="flex flex-col">
                                <div class="mb-6">
                                    <div class="h-12 w-12 rounded-xl bg-purple-500/15 flex items-center justify-center mb-6">
                                        <i data-lucide="eye" class="h-6 w-6 text-purple-300"></i>
                                    </div>
                                    <h3 class="text-xl font-semibold text-white font-geist mb-3">Pricing Transparency</h3>
                                    <p class="text-gray-300 font-geist font-light">See the exact exchange rate and total fee up-front. No hidden costs.</p>
                                </div>
                                <div class="flex justify-center mt-4">
                                    <div class="space-y-3 w-full">
                                        <!-- Simplified Pricing Display -->
                                        <div class="bg-gradient-to-r from-purple-900/30 to-black/50 p-3 rounded-lg border border-purple-400/30 flex justify-between items-center">
                                            <span class="text-sm text-gray-300 font-geist">Guaranteed Payout</span>
                                            <i data-lucide="check" class="w-4 h-4 text-purple-300"></i>
                                            </div>
                                        <div class="bg-gradient-to-r from-purple-900/30 to-black/50 p-3 rounded-lg border border-purple-400/30 flex justify-between items-center">
                                            <span class="text-sm text-gray-300 font-geist">Hidden Fees</span>
                                            <span class="text-purple-300 font-semibold">Zero</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Feature 3: Mobile-First Usability -->
                        <div class="fade-slide lg:col-span-1 bg-gradient-to-br from-amber-900/20 to-black border border-amber-400/20 rounded-2xl p-8 hover:border-amber-400/40 transition-all duration-300 backdrop-blur-xl" style="animation-delay:.3s">
                            <div class="h-12 w-12 rounded-xl bg-amber-500/15 flex items-center justify-center mb-6">
                                <i data-lucide="smartphone" class="h-6 w-6 text-amber-300"></i>
                            </div>
                            <h3 class="text-xl font-semibold text-white font-geist mb-3">Mobile-First Design</h3>
                            <p class="text-gray-300 font-geist font-light">Intuitive flow optimized for smartphones, supporting Tagalog and Cantonese.</p>
                            <div class="mt-4 flex items-center gap-3 text-xs text-gray-400 font-geist">
                                <span class="inline-flex items-center">
                                    <i data-lucide="check-check" class="mr-1 w-3 h-3 text-amber-300"></i>
                                    Fully Responsive
                                </span>
                                <span class="inline-flex items-center">
                                    <i data-lucide="speech" class="mr-1 w-3 h-3 text-amber-300"></i>
                                    Multi-language
                                </span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="h-px bg-gradient-to-r from-transparent via-white/20 to-transparent my-16"></div>
            </div>
        </section>

        <!-- CTA Section (NO CHANGE) -->
        <section class="sm:px-6 lg:px-8 pt-4 pr-4 pb-16 pl-4" data-billing="monthly">
            <div class="max-w-7xl mx-auto">
                <div class="text-center fade-slide" style="animation-delay:.3s">
                    <h3 class="text-3xl md:text-4xl font-light text-white font-bricolage mb-6">
                        Ready to send money to the Philippines <span class="bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-emerald-400">faster</span>?
                    </h3>
                    <p class="text-gray-300 font-geist font-light max-w-2xl mx-auto mb-8">
                        Join Filipino expats using the secure, low-cost stablecoin remittance rail.
                    </p>
                    <div class="flex flex-col sm:flex-row gap-4 justify-center">
                        <button class="hover:bg-blue-600 transition-all shadow-blue-900/30 font-medium text-white font-geist bg-gradient-to-r from-blue-400 to-emerald-400 rounded-xl pt-4 pr-8 pb-4 pl-8 shadow-lg">
                            Get Started Now
                        </button>
                        <button class="bg-transparent border border-white/20 text-white font-geist font-medium rounded-xl px-8 py-4 hover:bg-white/5 transition-all">
                            View Live FX Rates
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer Section (NO CHANGE) -->
        <footer class="sm:px-6 lg:px-8 sm:pt-16 pt-12 pr-4 pb-8 pl-4 border-t border-white/10">
            <div class="max-w-7xl mx-auto">
                <div class="grid grid-cols-2 md:grid-cols-4 gap-8 mb-12">
                    <div class="col-span-2 md:col-span-1">
                        <div class="flex flex-col mb-6">
                            <span class="text-xl font-bold tracking-tight text-white font-geist">FPS-Stable</span>
                            <span class="text-sm text-gray-300 font-medium font-geist">Cross-Border Remittance</span>
                        </div>
                        <p class="text-gray-400 font-geist font-light text-sm mb-6">
                            Secure, low-cost HK ➜ PH transfers powered by stablecoins and FPS.
                        </p>
                    </div>

                    <div>
                        <h4 class="text-white font-semibold font-geist mb-4">Product</h4>
                        <ul class="space-y-3">
                            <li><a href="#" class="text-gray-400 hover:text-white transition font-geist text-sm">Send Money Flow</a></li>
                            <li><a href="#" class="text-gray-400 hover:text-white transition font-geist text-sm">History & Receipts</a></li>
                            <li><a href="#" class="text-gray-400 hover:text-white transition font-geist text-sm">FX Rates & Fees</a></li>
                        </ul>
                    </div>

                    <div>
                        <h4 class="text-white font-semibold font-geist mb-4">Company</h4>
                        <ul class="space-y-3">
                            <li><a href="#" class="text-gray-400 hover:text-white transition font-geist text-sm">About Us</a></li>
                            <li><a href="#" class="text-gray-400 hover:text-white transition font-geist text-sm">Careers</a></li>
                            <li><a href="#" class="text-gray-400 hover:text-white transition font-geist text-sm">Partnerships</a></li>
                            <li><a href="#" class="text-gray-400 hover:text-white transition font-geist text-sm">Press</a></li>
                        </ul>
                    </div>

                    </div>
                <div class="mt-8 pt-6 border-t border-white/10 text-center text-gray-500 font-geist text-sm">
                    &copy; 2025 FPS-Stable. All rights reserved.
                </div>
            </div>
        </footer>

    </main>

    <script type="module">
        import { createClient } from 'https://esm.sh/@supabase/supabase-js@2'

        if (typeof lucide !== "undefined") {
            lucide.createIcons();
        }

        const mobileToggle = document.getElementById("mobileToggle");
        const mobileNav = document.getElementById("mobileNav");
        mobileToggle?.addEventListener('click', () => {
            const isHidden = mobileNav.classList.contains('hidden');
            mobileNav.classList.toggle('hidden');
            mobileNav.classList.toggle('flex', isHidden);
            mobileNav.setAttribute('aria-hidden', isHidden ? 'false' : 'true');
            mobileToggle.setAttribute('aria-expanded', isHidden ? 'true' : 'false');
            if (typeof lucide !== "undefined") {
                lucide.createIcons();
            }
        });

        const registerEmailInput = document.getElementById('registerEmail');
        const registerUsernameInput = document.getElementById('registerUsername');
        const registerPasswordInput = document.getElementById('registerPassword');
        const registrationButton = document.getElementById('emailRegistrationButton');
        const registrationMessage = document.getElementById('registrationMessage');
        const loginEmailInput = document.getElementById('loginEmail');
        const loginPasswordInput = document.getElementById('loginPassword');
        const loginButton = document.getElementById('emailLoginButton');
        const loginError = document.getElementById('loginError');
        const googleButton = document.getElementById('googleLoginButton');
        const registrationModal = document.getElementById('registrationModal');
        const registrationPanel = registrationModal?.querySelector('[data-registration-panel]');
        const openRegistrationButtons = document.querySelectorAll('[data-open-registration]');
        const closeRegistrationButton = registrationModal?.querySelector('[data-close-registration]');

        function openRegistrationModal() {
            if (!registrationModal) return;
            registrationModal.classList.remove('hidden');
            registrationModal.classList.add('flex');
            if (typeof lucide !== 'undefined') {
                lucide.createIcons();
            }
            requestAnimationFrame(() => {
                (registerEmailInput || registrationPanel)?.focus();
            });
        }

        function closeRegistrationModal() {
            if (!registrationModal || registrationModal.classList.contains('hidden')) return;
            registrationModal.classList.add('hidden');
            registrationModal.classList.remove('flex');
        }

        openRegistrationButtons.forEach(btn => btn.addEventListener('click', openRegistrationModal));
        closeRegistrationButton?.addEventListener('click', closeRegistrationModal);
        registrationModal?.addEventListener('click', (event) => {
            if (event.target === registrationModal) {
                closeRegistrationModal();
            }
        });
        document.addEventListener('keydown', (event) => {
            if (event.key === 'Escape') {
                closeRegistrationModal();
            }
        });

        const supabaseUrl = (
            document.querySelector('meta[name="supabase-url"]')?.content?.trim() ||
            localStorage.getItem('SUPABASE_URL') ||
            'https://wgzrajebtwsjruhcefdq.supabase.co'
        );
        const supabaseAnonKey = (
            document.querySelector('meta[name="supabase-anon-key"]')?.content?.trim() ||
            localStorage.getItem('SUPABASE_ANON_KEY') ||
            ''
        );
        const supabase = supabaseAnonKey ? createClient(supabaseUrl, supabaseAnonKey) : null;

        async function ensureSessionRedirect() {
            if (!supabase) return;
            const { data: { session } } = await supabase.auth.getSession();
            if (session) {
                window.location.href = 'dashboard.html';
            }
        }

        ensureSessionRedirect();

        supabase?.auth.onAuthStateChange((event, session) => {
            if (event === 'SIGNED_IN') {
                window.location.href = 'dashboard.html';
            }
            if (event === 'TOKEN_REFRESHED') {
                const s = session;
                if (!s) return;
                const now = Math.floor(Date.now() / 1000);
                const exp = s.expires_at || 0;
                if (exp && exp < now) {
                    showBanner(loginError, 'Session expired. Please sign in again.');
                }
            }
        });

        function showBanner(element, text, isError = true) {
            if (!element) return;
            element.textContent = text;
            element.classList.remove('hidden');
            const removeClasses = isError
                ? ['text-emerald-200', 'bg-emerald-500/10', 'border-emerald-400/20']
                : ['text-rose-200', 'bg-rose-500/10', 'border-rose-400/20'];
            const addClasses = isError
                ? ['text-rose-200', 'bg-rose-500/10', 'border-rose-400/20']
                : ['text-emerald-200', 'bg-emerald-500/10', 'border-emerald-400/20'];
            element.classList.remove(...removeClasses);
            element.classList.add(...addClasses);
        }

        function hideBanner(element) {
            element?.classList.add('hidden');
        }

        function mapAuthError(e){
            const msg=(e?.message||e||'').toLowerCase();
            if(msg.includes('network')) return 'Network error. Please try again later.';
            if(msg.includes('access_denied')||msg.includes('consent')) return 'Access cancelled or denied.';
            if(msg.includes('redirect_uri')) return 'Redirect URI mismatch. Check the configuration.';
            if(msg.includes('invalid_client')) return 'Client configuration error. Verify the Client ID/Secret.';
            return 'Authentication failed. Please try again.';
        }
        const sp = new URLSearchParams(window.location.search);
        if(sp.has('error')){
            showBanner(loginError, mapAuthError(sp.get('error')));
        }

        registrationButton?.addEventListener('click', async () => {
            const email = registerEmailInput.value.trim();
            const username = registerUsernameInput.value.trim();
            const password = registerPasswordInput.value.trim();
            if (!supabase) {
                showBanner(registrationMessage, 'Missing Supabase config. Add the URL/key via <meta> tags or localStorage.', true);
                return;
            }
            if (!email || !username || !password) {
                showBanner(registrationMessage, 'Please enter email, full name, and password.', true);
                return;
            }
            // Store username in localStorage for dashboard display
            localStorage.setItem('userFullName', username);
            const redirectTo = window.location.origin + '/dashboard.html';
            const { error } = await supabase.auth.signUp({
                email,
                password,
                options: { emailRedirectTo: redirectTo, data: { display_name: username } }
            });
            if (error) {
                showBanner(registrationMessage, 'Registration failed: ' + error.message, true);
            } else {
                showBanner(registrationMessage, 'Verification email sent. Please confirm it before logging in.', false);
            }
        });

        loginButton?.addEventListener('click', async () => {
            const email = loginEmailInput.value.trim();
            const password = loginPasswordInput.value.trim();
            if (email === 'test@gmail.com' && password === '123') {
                hideBanner(loginError);
                window.location.href = 'dashboard.html';
                return;
            }
            if (!supabase) {
                showBanner(loginError, 'Missing Supabase config. Add the URL/key via <meta> tags or localStorage.');
                return;
            }
            if (!email || !password) {
                showBanner(loginError, 'Please enter both email and password.');
                return;
            }
            const { data, error } = await supabase.auth.signInWithPassword({ email, password });
            if (error) {
                showBanner(loginError, 'Login failed: ' + error.message);
            } else {
                const fullName = localStorage.getItem('userFullName') || '';
                const provider = data?.user?.app_metadata?.provider || '';
                if (fullName && provider === 'email') {
                    try { await supabase.auth.updateUser({ data: { display_name: fullName } }); } catch {}
                }
                hideBanner(loginError);
                window.location.href = 'dashboard.html';
            }
        });

        googleButton?.addEventListener('click', async () => {
            if (!supabase) {
                showBanner(loginError, 'Missing Supabase config. Add the URL/key via <meta> tags or localStorage.');
                return;
            }
            try {
                const redirectTo = window.location.origin + '/dashboard.html';
                await supabase.auth.signInWithOAuth({
                    provider: 'google',
                    options: {
                        redirectTo,
                        scopes: 'openid profile email'
                    }
                });
            } catch (e) {
                showBanner(loginError, 'Google sign-in failed. Please try again or use email.');
            }
        });

        document.getElementById('remittanceLoginBtn')?.addEventListener('click', () => {
            document.getElementById('loginCard')?.scrollIntoView({ behavior: 'smooth' });
        });

        document.getElementById('mobileRemittanceLoginBtn')?.addEventListener('click', () => {
            mobileNav.classList.add('hidden');
            mobileNav.classList.remove('flex');
            document.getElementById('loginCard')?.scrollIntoView({ behavior: 'smooth' });
        });
    </script>
</body>
</html>
